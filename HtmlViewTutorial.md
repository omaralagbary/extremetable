The HTML generated by the eXtremeTable is created with the View interface. You can use one of views offered by the distribution, or you can plug in your own view. Creating your own view is now easy but it is worth talking about some of the design considerations and how to go about making a custom view.

I wanted to make it easy to create a custom view, but did not want to go down the path of a more complex swing-like model. The reason is because it would require the creation of a lot of objects to do a relatively inline task. The eXtremeTable is very efficient on purpose and I wanted to maintain that notion in the view. What I decided on was a series of builder classes that are split up into the smallest functional task. You build a custom view by piecing together the functionality needed.

The best way to learn the view code is to look at an existing view's source code and modify it to suit your needs. This would turn into very long tutorial if I tried to demonstrate everything that is going on. Instead what I would like to do is go through modifying the toolbar of the default view as an example of creating a custom view. For specific details about the various builders I will defer you to the source code. I am also trying to update the javadocs to better assist.

### View Interface ###

Classes that implement the View interface have three opportunities to insert content. The beforeBody() method gets called right away. The body() method gets called as each column in each row is processed. The afterBody() method is the last thing to be called by the eXtremeTable and it returns an Object that will represent the View. In the case of HTML this would be a String.

```
 public interface View {
     public void beforeBody(TableModel model);
     public void body(TableModel model, Column column);
     public Object afterBody(TableModel model);
 }
```

### Messages Example ###

For this tutorial I will go through modifying the toolbar for the custom view I created for the Messages example on the site.

```
public class MessagesView extends HtmlView {
    protected void toolbar(HtmlBuilder html, TableModel model) {
        new MessagesToolbar(html, model).layout();
    }

    protected void statusBar(HtmlBuilder html, TableModel model) {
        new MessagesStatusBar(html, model).layout();
    }
}
```

This is using the default view, so it extends the HtmlView to modifiy the toolbar and the status bar. Most of the requests that developers have asked for dealt with modifying the toolbar and/or status bar.

The toobar for the default view is the area above the table that has the pagination links and the title. The toolbar is using the TwoColumnTableLayout, which is an abstract class to give the layout with a left and right column that is in its own table. This makes the perfect layout that can float above the table. Here are the abstract methods that you need to worry about, as the actual html to perform the layout is already done for you.

```
 public abstract class TwoColumnTableLayout {
     protected abstract boolean showLayout(TableModel model);
     protected abstract void columnLeft(HtmlBuilder html, TableModel model);
     protected abstract void columnRight(HtmlBuilder html, TableModel model);
 }
```

This following code shows part of the right column. Notice how the first and previous pages are being displayed as text instead of using images in my custom view. What I really hope to demonstrate is that what you need to do is find the right builder class and just keep appending markup to the HtmlBuilder. The builder classes are also helpful to demonstrate how to find information in the model in case you need to do something even more custom than what they can provide.

```
public class MessagesToolbar extends DefaultToolbar {
    public MessagesToolbar(HtmlBuilder html, TableModel model) {
        super(html, model);
    }

    protected void columnRight(HtmlBuilder html, TableModel model) {
        boolean showPagination = BuilderUtils.showPagination(model);
        boolean showExports = BuilderUtils.showExports(model);
        
        ToolbarBuilder toolbarBuilder = new ToolbarBuilder(html, model);

         ...

        if (showPagination) {

            html.td(4).close();
            toolbarBuilder.firstPageItemAsText();
            html.tdEnd();

            html.td(4).close();
            toolbarBuilder.prevPageItemAsText();
            html.tdEnd();

            ...
        }
        
         ...

    }
```

To use the View you should declare an alias In the [Preferences](PreferencesTutorial.md). You could skip this and give the fully qualified class name to the View in the JSP, but the Preferences is much cleaner.

```
 table.view.messages=org.extremesite.view.MessagesView
```

The TableTag will then use the view attribute to use the MessagesView.

```
 <ec:table view="messages">
```

_See the Preferences tutorial if the syntax for the Preferences and TableTag (above) does not make sense._


